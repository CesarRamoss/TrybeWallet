{"ast":null,"code":"import _classCallCheck from\"/home/cesar/Documentos/Trybe/projetos porfolio/trybewallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/cesar/Documentos/Trybe/projetos porfolio/trybewallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/cesar/Documentos/Trybe/projetos porfolio/trybewallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/cesar/Documentos/Trybe/projetos porfolio/trybewallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{MIN_CHARACTER,VALIDATE_EMAIL}from'../lib/constants';import{login as loginAction}from'../actions';import wallet from'../img/wallet.png';import'../css/login.css';var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.handleSubmit=function(e){e.preventDefault();var email=_this.state.email;var _this$props=_this.props,login=_this$props.login,history=_this$props.history;login({email:email});history.push('/carteira');};_this.state={email:'',loginButtonDisabled:true,password:''};return _this;}_createClass(Login,[{key:\"changeStateButton\",value:// funcao criada para validar o enable do button\nfunction changeStateButton(){var _this$state=this.state,email=_this$state.email,password=_this$state.password;var verifyCharacters=password.length>=MIN_CHARACTER;// referencia para pesquisa: https://www.horadecodar.com.br/2020/09/13/como-validar-email-com-javascript/\nvar verifyEmail=VALIDATE_EMAIL.test(email);if(verifyCharacters&&verifyEmail){this.setState({loginButtonDisabled:false});}else{this.setState({loginButtonDisabled:true});}}},{key:\"render\",value:function render(){var _this2=this;var loginButtonDisabled=this.state.loginButtonDisabled;return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"TrybeWallet\"),/*#__PURE__*/React.createElement(\"img\",{src:wallet,alt:\"Wallet\"}),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"input\",{type:\"email\",\"data-testid\":\"email-input\",placeholder:\"Digite seu email\",onChange:function onChange(e){_this2.setState({email:e.target.value});_this2.changeStateButton();},required:true}),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",\"data-testid\":\"password-input\",placeholder:\"Digite uma senha\",onChange:function onChange(e){_this2.setState({password:e.target.value});_this2.changeStateButton();},required:true}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",disabled:loginButtonDisabled},\"Entrar\"))));}}]);return Login;}(React.Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{login:function login(value){return dispatch(loginAction(value));}};};export default connect(null,mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/cesar/Documentos/Trybe/projetos porfolio/trybewallet/src/pages/Login.js"],"names":["React","connect","MIN_CHARACTER","VALIDATE_EMAIL","login","loginAction","wallet","Login","props","handleSubmit","e","preventDefault","email","state","history","push","loginButtonDisabled","password","verifyCharacters","length","verifyEmail","test","setState","target","value","changeStateButton","Component","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { MIN_CHARACTER, VALIDATE_EMAIL } from '../lib/constants';\nimport { login as loginAction } from '../actions';\nimport wallet from '../img/wallet.png';\nimport '../css/login.css';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      loginButtonDisabled: true,\n      password: '',\n    };\n  }\n\n  handleSubmit =(e) => {\n    e.preventDefault();\n    const { email } = this.state;\n    const { login, history } = this.props;\n    login({ email });\n    history.push('/carteira');\n  }\n\n  // funcao criada para validar o enable do button\n  changeStateButton() {\n    const { email, password } = this.state;\n    const verifyCharacters = password.length >= MIN_CHARACTER;\n\n    // referencia para pesquisa: https://www.horadecodar.com.br/2020/09/13/como-validar-email-com-javascript/\n    const verifyEmail = VALIDATE_EMAIL.test(email);\n\n    if (verifyCharacters && verifyEmail) {\n      this.setState({ loginButtonDisabled: false });\n    } else {\n      this.setState({ loginButtonDisabled: true });\n    }\n  }\n\n  render() {\n    const { loginButtonDisabled } = this.state;\n    return (\n      <div className=\"container\">\n        <main>\n          <h1>TrybeWallet</h1>\n          <img src={ wallet } alt=\"Wallet\" />\n          <form onSubmit={ this.handleSubmit }>\n            <input\n              type=\"email\"\n              data-testid=\"email-input\"\n              placeholder=\"Digite seu email\"\n              onChange={ (e) => {\n                this.setState({ email: e.target.value });\n                this.changeStateButton();\n              } }\n              required\n            />\n            <input\n              type=\"password\"\n              data-testid=\"password-input\"\n              placeholder=\"Digite uma senha\"\n              onChange={ (e) => {\n                this.setState({ password: e.target.value });\n                this.changeStateButton();\n              } }\n              required\n            />\n            <button type=\"submit\" disabled={ loginButtonDisabled }>Entrar</button>\n          </form>\n        </main>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  login: (value) => dispatch(loginAction(value)),\n});\n\nLogin.propTypes = {\n  login: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nexport default connect(null, mapDispatchToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}