(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/wallet.44103b8a.png"},29:function(e,t,a){e.exports=a.p+"static/media/trash.e3a911a6.svg"},34:function(e,t,a){e.exports=a(52)},39:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),c=a.n(l),i=a(32),u=(a(39),a(10)),o=a(8),s=a(9),m=a(12),d=a(11),p=a(2),h=/\S+@\S+\.\S+/,E=a(14),b=a.n(E),v=a(7),f=a(17),g=function(){var e=Object(f.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=a(20),j=a.n(y),O=(a(45),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=n.state.email,a=n.props,r=a.login,l=a.history;r({email:t}),l.push("/carteira")},n.state={email:"",loginButtonDisabled:!0,password:""},n}return Object(s.a)(a,[{key:"changeStateButton",value:function(){var e=this.state,t=e.email,a=e.password.length>=5,n=h.test(t);a&&n?this.setState({loginButtonDisabled:!1}):this.setState({loginButtonDisabled:!0})}},{key:"render",value:function(){var e=this,t=this.state.loginButtonDisabled;return r.a.createElement("div",{className:"container"},r.a.createElement("main",null,r.a.createElement("h1",null,"TrybeWallet"),r.a.createElement("img",{src:j.a,alt:"Wallet"}),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"email","data-testid":"email-input",placeholder:"Digite seu email",onChange:function(t){e.setState({email:t.target.value}),e.changeStateButton()},required:!0}),r.a.createElement("input",{type:"password","data-testid":"password-input",placeholder:"Digite uma senha",onChange:function(t){e.setState({password:t.target.value}),e.changeStateButton()},required:!0}),r.a.createElement("button",{type:"submit",disabled:t},"Entrar"))))}}]),a}(r.a.Component)),x=Object(u.b)(null,(function(e){return{login:function(t){return e(function(e){return{type:"LOGIN",value:e}}(t))}}}))(O),w=a(19),S=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target,n=a.id,r=a.value;e.setState(Object(w.a)({},n,r))},e.addRegister=function(t){t.preventDefault(),(0,e.props.dispatchSetData)(e.state),e.setState({value:0,description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o"})},e.state={value:0,description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o"},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.dispatchSetCoins)()}},{key:"render",value:function(){var e=this.props.currencies,t=this.state,a=t.value,n=t.description,l=t.currency,c=t.method,i=t.tag;return r.a.createElement("form",{onSubmit:this.addRegister},r.a.createElement("label",{htmlFor:"value"},"Valor",r.a.createElement("input",{type:"number",id:"value","data-testid":"value-input",onChange:this.handleChange,value:a})),r.a.createElement("label",{htmlFor:"description"}," ","Descri\xe7\xe3o",r.a.createElement("input",{type:"text",id:"description","data-testid":"description-input",onChange:this.handleChange,value:n})),r.a.createElement("label",{htmlFor:"currency"}," ","Moeda",r.a.createElement("select",{"data-testid":"currency-input",id:"currency",onChange:this.handleChange,value:l},e.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("label",{htmlFor:"method"}," ","M\xe9todo de Pagamento",r.a.createElement("select",{"data-testid":"method-input",id:"method",onChange:this.handleChange,value:c},r.a.createElement("option",null,"Dinheiro"),r.a.createElement("option",null,"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",null,"Cart\xe3o de d\xe9bito"))),r.a.createElement("label",{htmlFor:"tag"}," ","Tag",r.a.createElement("select",{"data-testid":"tag-input",id:"tag",onChange:this.handleChange,value:i},r.a.createElement("option",null,"Alimenta\xe7\xe3o"),r.a.createElement("option",null,"Lazer"),r.a.createElement("option",null,"Trabalho"),r.a.createElement("option",null,"Transporte"),r.a.createElement("option",null,"Sa\xfade"))),r.a.createElement("button",{type:"submit"},"Adicionar"))}}]),a}(r.a.Component),D=Object(u.b)((function(e){return{expenses:e.wallet.expenses,currencies:e.wallet.currencies}}),(function(e){return{dispatchSetData:function(t){return e(function(e){return function(){var t=Object(f.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g();case 2:n=t.sent,a({type:"ADD_EXPENSE",value:Object(v.a)(Object(v.a)({},e),{},{exchangeRates:n})});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},dispatchSetCoins:function(t){return e(function(){var e=Object(f.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:a=e.sent,n=Object.keys(a).filter((function(e){return"USDT"!==e})),t({type:"GET_EXPENSE",value:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}}}))(S),C=a(29),k=a.n(C),N=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).deleteItem=function(t){var a=t.target;(0,e.props.dispatchDelete)(a.value)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.expenses;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Excluir"))),r.a.createElement("tbody",null,t.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.tag),r.a.createElement("td",null,t.method),r.a.createElement("td",null,Number(t.value).toFixed(2)),r.a.createElement("td",null,t.exchangeRates[t.currency].name.split("/").shift()),r.a.createElement("td",null,Number(t.exchangeRates[t.currency].ask).toFixed(2)),r.a.createElement("td",null,Number(t.value*t.exchangeRates[t.currency].ask).toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement("button",{className:"delete",type:"button","data-testid":"delete-btn",onClick:e.deleteItem,value:t.id},r.a.createElement("img",{src:k.a,alt:"trash"}))))}))))}}]),a}(r.a.Component),T=Object(u.b)((function(e){return{expenses:e.wallet.expenses}}),(function(e){return{dispatchDelete:function(t){return e(function(e){return{type:"DELETE_EXPENSE",value:e}}(t))}}}))(N),B=(a(46),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.email,a=e.expenses;return r.a.createElement("div",{className:"container_wallet"},r.a.createElement("header",null,r.a.createElement("img",{src:j.a,alt:"Wallet"}),r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",{"data-testid":"email-field"},t),r.a.createElement("li",{"data-testid":"total-field"},r.a.createElement("span",null,"Total: "),a.reduce((function(e,t){return e+Number(t.value)*Number(t.exchangeRates[t.currency].ask)}),0).toFixed(2)),r.a.createElement("li",{"data-testid":"header-currency-field"},r.a.createElement("span",null,"Moeda: "),"BRL")))),r.a.createElement(D,null),r.a.createElement(T,null))}}]),a}(r.a.Component)),R=Object(u.b)((function(e){return{email:e.user.email,expenses:e.wallet.expenses}}))(B),F=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:x}),r.a.createElement(p.a,{exact:!0,path:"/carteira",component:R}))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=a(13),A=a(30),P=a(31),W={email:""};var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":var a=t.value.email;return{email:a};default:return e}},L=a(33),X={currencies:[],expenses:[]};var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EXPENSE":return Object(v.a)(Object(v.a)({},e),{},{expenses:[].concat(Object(L.a)(e.expenses),[Object(v.a)({id:e.expenses.length},t.value)])});case"GET_EXPENSE":return Object(v.a)(Object(v.a)({},e),{},{currencies:t.value});case"DELETE_EXPENSE":return Object(v.a)(Object(v.a)({},e),{},{expenses:e.expenses.filter((function(e){return e.id!==Number(t.value)}))});default:return e}},G=Object(M.combineReducers)({user:_,wallet:I}),U=Object(M.createStore)(G,Object(A.composeWithDevTools)(Object(M.applyMiddleware)(P.a)));c.a.render(r.a.createElement(u.a,{store:U},r.a.createElement(i.a,{basename:"/TrybeWallet"},r.a.createElement(F,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.99ad5049.chunk.js.map